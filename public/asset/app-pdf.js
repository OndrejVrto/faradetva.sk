function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var generatePdf=function(){function e(t,n,a,i,r){var s=this;_classCallCheck(this,e),_defineProperty(this,"pdfDoc",null),_defineProperty(this,"pageNum",1),_defineProperty(this,"numPages",0),_defineProperty(this,"libLoadedCallback",null),_defineProperty(this,"libLoadedCallbackB",null),_defineProperty(this,"initializeButtons",(function(e,t,n){var a=document.getElementById(e),i=document.getElementById(t),r=document.getElementById(n),o=function(){s.hasNextPage()?i.removeAttribute("disabled"):i.setAttribute("disabled",""),s.pageNum>1?a.removeAttribute("disabled"):a.setAttribute("disabled",""),s.numPages<=1?(i.classList.add("d-none"),a.classList.add("d-none"),r.classList.add("d-none")):(i.classList.remove("d-none"),a.classList.remove("d-none"),r.classList.remove("d-none"))},l=function(){r.innerHTML="Strana "+s.pageNum+" z "+s.numPages};o(),l(),s.libLoadedCallback=o,s.libLoadedCallbackB=l,a.addEventListener("click",(function(){s.showPrevPage(),o(),l()})),i.addEventListener("click",(function(){s.showNextPage(),o(),l()}))})),this.selector=n,this.url=t,this.getData(1),this.initializeButtons(a,i,r)}return _createClass(e,[{key:"getData",value:function(e){var t=this;pdfjsLib.getDocument(this.url).promise.then((function(n){t.pdfDoc=n,t.numPages=t.pdfDoc.numPages,t.renderPage(e),t.libLoadedCallback&&t.libLoadedCallback(),t.libLoadedCallbackB&&t.libLoadedCallbackB()}))}},{key:"renderPage",value:function(e){var t=document.querySelector(this.selector),n=t.getContext("2d");this.pdfDoc.getPage(e).then((function(e){var a=e.getViewport({scale:1.5});t.height=a.height,t.width=a.width;var i={canvasContext:n,viewport:a};e.render(i)}))}},{key:"showNextPage",value:function(){this.pageNum>=this.numPages||(this.pageNum++,this.reRenderCanvas())}},{key:"showPrevPage",value:function(){this.pageNum<=1||(this.pageNum--,this.reRenderCanvas())}},{key:"reRenderCanvas",value:function(){var e=this;setTimeout((function(){e.renderPage(e.pageNum)}),500)}},{key:"hasNextPage",value:function(){return this.pageNum<this.numPages}}]),e}();
